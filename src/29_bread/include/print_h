#ifndef printf_h
#define printf_h

#include <libc/stdint.h>
#include "putchar.h"

int print_string(const char* str) {
    int i = 0;
    while (str[i] != '\0') {
        putchar(str[i]);
        i++;
    }
    return i;
}

int print_int(int num) {
    char str[32];
    int i = 0;
    int is_negative = 0;

    if (num == 0) {
        str[i++] = '0';
    } else {
        if (num < 0) {
            is_negative = 1;
            num = -num;
        }

        char temp[32];
        int j = 0;

        while (num > 0) {
            temp[j++] = num % 10 + '0';
            num /= 10;
        }

        if (is_negative) {
            str[i++] = '-';
        }

        while (j > 0) {
            str[i++] = temp[--j];
        }
    }

    str[i] = '\0';
    return print_string(str);
}

int printf(const char* str, const char* arg_s, int arg_d) {
    int i = 0;
    int str_index = 0;
    int int_index = 0;
    
    while (str[i] != '\0') {
        if (str[i] == '%') {
            i++;
            if (str[i] == 's') {
                print_string(arg_s);  // Print string argument
                str_index++;
            }
            else if (str[i] == 'd') {
                print_int(arg_d);  // Print integer argument
                int_index++;
            }
            else if (str[i] == '\n')
            {
                putchar('\n');
            }
            
            else {
                putchar(str[i]);
            }
        }
        else {
            putchar(str[i]);
        }
        i++;
    }
    return i;
}

#endif
